{"version":3,"sources":["index.js"],"names":["formReducer","state","event","name","value","Form","useReducer","setFormData","handleChange","target","className","onSubmit","preventDefault","paint","ReactDOM","render","HousingCooperative","apartments","data","document","getElementById","renderResults","paintName","paintPrice","price","paintCoverage","coverage","paintCount","count","type","required","onChange","href","rel","Room","size","typeFactor","totalLitersNeeded","totalCost","Math","round","Apartment","rooms","getTotalLiters","totalSquareMeters","forEach","element","getSquareMeters","map","room","i","getTotalPrice","apartment"],"mappings":"03BAIMA,G,MAAc,SAACC,EAAOC,GAC1B,OAAO,2BACFD,GADL,kBAEGC,EAAMC,KAAOD,EAAME,UAIxB,SAASC,IAAQ,IAAD,EACkBC,qBAAWN,EAAa,IAD1C,mBACGO,GADH,WAYRC,EAAe,SAACN,GACpBK,EAAY,CACVJ,KAAMD,EAAMO,OAAON,KACnBC,MAAOF,EAAMO,OAAOL,SAGxB,OACE,sBAAKM,UAAU,OAAf,UACE,8CACA,4DACA,uBAAMC,SApBW,SAACT,GACpBA,EAAMU,iBA+JV,SAAuBC,GACrBC,IAASC,OACP,cAACC,EAAD,CAAoBC,WAAYC,EAAML,MAAOA,IAC7CM,SAASC,eAAe,gBA3JxBC,CANY,CACVC,UAAWpB,EAAMO,OAAON,KAAKC,MAC7BmB,WAAYrB,EAAMO,OAAOe,MAAMpB,MAC/BqB,cAAevB,EAAMO,OAAOiB,SAAStB,MACrCuB,WAAYzB,EAAMO,OAAOmB,MAAMxB,SAc/B,UACE,6CACA,uBAAOyB,KAAK,OAAO1B,KAAK,OAAO2B,SAAS,WAAWC,SAAUvB,IAC7D,kDACA,uBAAOqB,KAAK,SAAS1B,KAAK,QAAQ2B,SAAS,WAAWC,SAAUvB,IAChE,+CACgB,oCADhB,OACiC,OAEjC,uBAAOqB,KAAK,SAAS1B,KAAK,WAAW2B,SAAS,WAAWC,SAAUvB,IAEnE,+CACN,uBAAOqB,KAAK,SAAS1B,KAAK,QAAQ2B,SAAS,WAAWC,SAAUvB,IAC1D,uBACA,wBAAQqB,KAAK,UAAUnB,UAAU,eAAjC,oCAIF,mBACEsB,KAAK,sCACLvB,OAAO,SACPwB,IAAI,sBAHN,SAKE,iDAKR,IAAMC,EAAO,SAAC,GAQP,IAPL/B,EAOI,EAPJA,KACAgC,EAMI,EANJA,KACAC,EAKI,EALJA,WAEAb,GAGI,EAJJD,UAII,EAHJC,YACAE,EAEI,EAFJA,cAIIY,EADoBF,EAAOC,EAD3B,EADJT,WAG4CF,EACxCa,EAAYD,EAAoBd,EACpC,OACE,sBAAKb,UAAU,QAAf,UACE,8BACGP,EADH,IACUgC,EADV,IACgB,oCADhB,aACuC,IACpCI,KAAKC,MAA0B,IAApBH,GAA2B,IAFzC,mBAE8D,IAC3DE,KAAKC,MAAmB,IAAZF,EAAmB,KAHlC,YAKA,2BAIAG,EAAY,SAAC,GAA4B,IAA1BtC,EAAyB,EAAzBA,KAAMuC,EAAmB,EAAnBA,MAAO7B,EAAY,EAAZA,MAQhC,SAAS8B,EAAeD,EAAO7B,GAC7B,IAAIc,EAAad,EAAMc,WACnBiB,EAAoB,EACpBnB,EAAgBZ,EAAMY,cAK1B,OAJAiB,EAAMG,SAAQ,SAACC,GACbF,GAAqBE,EAAQX,KAAOW,EAAQV,cAErBQ,EAAoBnB,EAAiBE,EAWhE,OACE,sBAAKjB,UAAU,UAAf,UACE,+BACGP,EADH,IATJ,SAAyBuC,GACvB,IAAIE,EAAoB,EAIxB,OAHAF,EAAMG,SAAQ,SAACC,GACbF,GAAqBE,EAAQX,QAExBS,EAKKG,CAAgBL,GAD1B,IACkC,uCAElC,sBAAKhC,UAAU,QAAf,UACGgC,EAAMM,KAAI,SAACC,EAAMC,GAChB,OAAO,cAAChB,EAAD,2BAAkBe,GAAUpC,GAAjBqC,MAEpB,0DAC4B,IACzBX,KAAKC,MAAqC,IApCnD,SAAuBE,EAAO7B,GAC5B,IAAIU,EAAaV,EAAMU,WAGvB,OAFwBoB,EAAeD,EAAO7B,GACTU,EAiClB4B,CAAcT,EAAO7B,GAAgB,KAFpD,YAIA,8CACgB0B,KAAKC,MAAsC,IAA/BG,EAAeD,EAAO7B,GAAgB,KADlE,cAOFG,EAAqB,SAAC,GAAgC,IAAD,IAA7BC,kBAA6B,MAAhB,GAAgB,EAAZJ,EAAY,EAAZA,MAQ7C,SAAS8B,EAAe1B,EAAYJ,GAClC,IAAIc,EAAad,EAAMc,WACnBiB,EAAoB,EACpBnB,EAAgBZ,EAAMY,cAO1B,OANAR,EAAW4B,SAAQ,SAACC,GAClBA,EAAQJ,MAAMG,SAAQ,SAACC,GACrBF,GAAqBE,EAAQX,KAAOW,EAAQV,iBAGvBQ,EAAoBnB,EAAiBE,EAGhE,OACE,qBAAKjB,UAAU,UAAf,SACE,gCACE,0CACA,qBAAKA,UAAU,aAAf,SACGO,EAAW+B,KAAI,SAACI,EAAWF,GAC1B,OAAO,cAACT,EAAD,2BAAuBW,GAAvB,IAAkCvC,MAAOA,IAAzBqC,QAG3B,gCACE,gDACiB,IACdX,KAAKC,MAA0C,IA/B1D,SAAuBvB,EAAYJ,GACjC,IAAIU,EAAaV,EAAMU,WAGvB,OAFwBoB,EAAe1B,EAAYJ,GACdU,EA4BhB4B,CAAclC,EAAYJ,GAAgB,KAFzD,YAIA,uDACwB,IACrB0B,KAAKC,MAA2C,IAApCG,EAAe1B,EAAYJ,GAAgB,KAF1D,gBAgBVC,IAASC,OAAO,cAACV,EAAD,IAAUc,SAASC,eAAe,W","file":"static/js/main.f7934430.chunk.js","sourcesContent":["import React, { useReducer, useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport data from \"./data/apartments.json\";\r\nimport \"../src/styles/index.css\";\r\nconst formReducer = (state, event) => {\r\n  return {\r\n    ...state,\r\n    [event.name]: event.value,\r\n  };\r\n};\r\n\r\nfunction Form() {\r\n  const [formData, setFormData] = useReducer(formReducer, {});\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    var paint = {\r\n      paintName: event.target.name.value,\r\n      paintPrice: event.target.price.value,\r\n      paintCoverage: event.target.coverage.value,\r\n      paintCount: event.target.count.value,\r\n    };\r\n    renderResults(paint);\r\n  };\r\n  const handleChange = (event) => {\r\n    setFormData({\r\n      name: event.target.name,\r\n      value: event.target.value,\r\n    });\r\n  };\r\n  return (\r\n    <div className=\"form\">\r\n      <h1>Maalilaskuri</h1>\r\n      <h2>Syötä maalin tiedot:</h2>\r\n      <form onSubmit={handleSubmit}>\r\n        <p>Maalin nimi:</p>\r\n        <input type=\"text\" name=\"name\" required=\"required\" onChange={handleChange} />\r\n        <p>Hinta (€/L):</p>\r\n        <input type=\"number\" name=\"price\" required=\"required\" onChange={handleChange} />\r\n        <p>\r\n          Riittoisuus (m<sup>2</sup>/L):{\" \"}\r\n        </p>\r\n        <input type=\"number\" name=\"coverage\" required=\"required\" onChange={handleChange} />\r\n\r\n        <p>Maalauskerrat:</p>\r\n\t\t<input type=\"number\" name=\"count\" required=\"required\" onChange={handleChange} />\r\n        <br></br>\r\n        <button type=\"submit>\" className=\"submitButton\">\r\n          Lähetä tiedot\r\n        </button>\r\n      </form>\r\n      <a\r\n        href=\"https://github.com/mmakiri/paintapp\"\r\n        target=\"_blank\"\r\n        rel=\"noopener noreferrer\"\r\n      >\r\n        <button>Github</button>\r\n      </a>\r\n    </div>\r\n  );\r\n}\r\nconst Room = ({\r\n  name,\r\n  size,\r\n  typeFactor,\r\n  paintName,\r\n  paintPrice,\r\n  paintCoverage,\r\n  paintCount,\r\n}) => {\r\n  var totalSquareMeters = size * typeFactor * paintCount;\r\n  var totalLitersNeeded = totalSquareMeters / paintCoverage;\r\n  var totalCost = totalLitersNeeded * paintPrice;\r\n  return (\r\n    <div className=\"huone\">\r\n      <p>\r\n        {name} {size}m<sup>2</sup> tarvitsee{\" \"}\r\n        {Math.round(totalLitersNeeded * 100) / 100}L maalia. Hinta:{\" \"}\r\n        {Math.round((totalCost * 100) / 100)}€\r\n      </p>\r\n      <br></br>\r\n    </div>\r\n  );\r\n};\r\nconst Apartment = ({ name, rooms, paint }) => {\r\n  function getTotalPrice(rooms, paint) {\r\n    let paintPrice = paint.paintPrice;\r\n    let totalLetersNeeded = getTotalLiters(rooms, paint);\r\n    let totalPrice = totalLetersNeeded * paintPrice;\r\n    return totalPrice;\r\n  }\r\n\r\n  function getTotalLiters(rooms, paint) {\r\n    let paintCount = paint.paintCount;\r\n    let totalSquareMeters = 0;\r\n    let paintCoverage = paint.paintCoverage;\r\n    rooms.forEach((element) => {\r\n      totalSquareMeters += element.size * element.typeFactor;\r\n    });\r\n    let totalLetersNeeded = (totalSquareMeters / paintCoverage) * paintCount;\r\n    return totalLetersNeeded;\r\n  }\r\n\r\n  function getSquareMeters(rooms) {\r\n    let totalSquareMeters = 0;\r\n    rooms.forEach((element) => {\r\n      totalSquareMeters += element.size;\r\n    });\r\n    return totalSquareMeters;\r\n  }\r\n  return (\r\n    <div className=\"asunnot\">\r\n      <h3>\r\n        {name} {getSquareMeters(rooms)}m<sup>2</sup>\r\n      </h3>\r\n      <div className=\"rooms\">\r\n        {rooms.map((room, i) => {\r\n          return <Room key={i} {...room} {...paint} />;\r\n        })}\r\n        <p>\r\n          Asunnon maalauksen hinta:{\" \"}\r\n          {Math.round((getTotalPrice(rooms, paint) * 100) / 100)}€\r\n        </p>\r\n        <p>\r\n          Maalintarve: {Math.round((getTotalLiters(rooms, paint) * 100) / 100)}L\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nconst HousingCooperative = ({ apartments = [], paint }) => {\r\n  function getTotalPrice(apartments, paint) {\r\n    let paintPrice = paint.paintPrice;\r\n    let totalLitersNeeded = getTotalLiters(apartments, paint);\r\n    var totalPrice = totalLitersNeeded * paintPrice;\r\n    return totalPrice;\r\n  }\r\n\r\n  function getTotalLiters(apartments, paint) {\r\n    let paintCount = paint.paintCount;\r\n    let totalSquareMeters = 0;\r\n    let paintCoverage = paint.paintCoverage;\r\n    apartments.forEach((element) => {\r\n      element.rooms.forEach((element) => {\r\n        totalSquareMeters += element.size * element.typeFactor;\r\n      });\r\n    });\r\n    let totalLitersNeeded = (totalSquareMeters / paintCoverage) * paintCount;\r\n    return totalLitersNeeded;\r\n  }\r\n  return (\r\n    <div className=\"results\">\r\n      <div>\r\n        <h2>Asunnot:</h2>\r\n        <div className=\"apartments\">\r\n          {apartments.map((apartment, i) => {\r\n            return <Apartment key={i} {...apartment} paint={paint} />;\r\n          })}\r\n        </div>\r\n        <div>\r\n          <h3>\r\n            Kokonaishinta:{\" \"}\r\n            {Math.round((getTotalPrice(apartments, paint) * 100) / 100)}€\r\n          </h3>\r\n          <h3>\r\n            Maalin kokonaistarve:{\" \"}\r\n            {Math.round((getTotalLiters(apartments, paint) * 100) / 100)}L\r\n          </h3>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction renderResults(paint) {\r\n  ReactDOM.render(\r\n    <HousingCooperative apartments={data} paint={paint} />,\r\n    document.getElementById(\"result-root\")\r\n  );\r\n}\r\nReactDOM.render(<Form />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}